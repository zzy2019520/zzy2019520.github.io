{"meta":{"title":"张占阳的博客","subtitle":"","description":"","author":"张占阳","url":"http://zzy521.com","root":"/"},"pages":[{"title":"关于我","date":"2020-12-20T12:26:06.000Z","updated":"2020-12-23T07:06:34.312Z","comments":false,"path":"about/index.html","permalink":"http://zzy521.com/about/index.html","excerpt":"","text":""},{"title":"标签","date":"2020-12-20T12:51:11.000Z","updated":"2020-12-20T12:52:44.744Z","comments":false,"path":"tags/index.html","permalink":"http://zzy521.com/tags/index.html","excerpt":"","text":""},{"title":"分类","date":"2020-12-20T12:26:06.000Z","updated":"2020-12-20T12:47:16.402Z","comments":false,"path":"categories/index.html","permalink":"http://zzy521.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"将Java程序打包为exe文件并和jre一起打包为安装包","slug":"将Java程序打包为exe文件并和jre一起打包为安装包","date":"2021-02-19T03:36:00.000Z","updated":"2021-02-19T07:16:21.985Z","comments":true,"path":"posts/eeae6a0e.html","link":"","permalink":"http://zzy521.com/posts/eeae6a0e.html","excerpt":"","text":"1.将Java程序导出的jar文件打包为exe文件1.1打开安装好的exe4j软件，首先看到的是一个欢迎界面，直接【next】就可以了 1.2在第二步中我们选择【JAR in EXE mode】，然后【next】 1.3.第三步中需要输入程序的缩写名字和指明输出目录，就是程序的保存目录，按照自己的情况设置就行，没啥特别要求，然后【next】 1.4.需要指定程序的名字，设置程序的图标，注意，程序图标要用ico格式的图片 1.5.然后我们在左边的菜单栏中选择【32 bit or 64 bit】，勾上【Generate 64 bit executeable】，不勾选为32位，勾选为64位 1.6.添加我们的jar包，点击右边绿色的 “+”号，然后选择【Archive】，打开浏览目录，找到我们的jar包，然后选择【打开】，【ok】 1.7.然后选择主类，在Main class后面，选择【浏览】，找到主类，添加上主类，然后【next】 1.8.设置JRE的最小最高版本，我们根据自己的情况设置，小版本设置成1.5，大版本设置成1.8，就行 1.9.然后点击【Advanced Options】，选择【Search sequence】，将我们的JRE添加到软件中，这样的话，我们的代码可以在别的没有安装Java环境的电脑上运行；点击右边的添加，选择【Directory】，然后选择【浏览】，找到我们的JRE，然后添加（添加之后把前面的删掉然后加一个点，这里我写的是.\\jre1.8.0_73，使用相对路径，之后把生成的程序和jre的文件夹拷贝到同一个文件夹下） 1.10.然后点击左侧的【Preferred VM】，选择【Client hotspot VM】，然后【next】 1.11.其余的步骤直接默认就行了，这样生成的exe文件就能正常运行了！ 2.将jre环境和exe文件一起打包为程序安装包需要安装Inno Setup 菜单栏→新建，打开脚本向导 直接下一步 填写应用程序名称和应用程序版本，其他两个可以选填。 这一步可以默认，应用程序所在的文件夹默认为上一步填的应用程序名称 主执行文件选择用exe4j打包好的那个exe文件，然后点击添加文件夹选中jre文件夹，下一步 直接下一步 接着下一步 继续下一步 还是下一步 选择安装程序的保存位置、安装程序文件名、安装程序的图标。安装密码为可选项 继续下一步 点击完成 在生成的脚本中找到**[Files],然后找到刚刚添加的文件夹路径，在文件加路径后的&#123;app&#125;后边加上\\jre，jre就是程序安装后在安装路径下生成的文件夹名称，这里文件夹的名称与上边1.9中填写的路径要保持一致**，如果上边是跟我的文件夹名一样的，那这里也要写为.\\jre1.8.0_73。 然后在菜单栏点击构建→编译即可。","categories":[{"name":"开发工具","slug":"开发工具","permalink":"http://zzy521.com/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"exe","slug":"exe","permalink":"http://zzy521.com/tags/exe/"},{"name":"Java","slug":"Java","permalink":"http://zzy521.com/tags/Java/"}]},{"title":"EOS中Restful服务的开发与调用","slug":"EOS实现restful","date":"2021-01-20T09:21:05.000Z","updated":"2021-01-21T08:48:36.435Z","comments":true,"path":"posts/5a3d390e.html","link":"","permalink":"http://zzy521.com/posts/5a3d390e.html","excerpt":"","text":"开发Restful服务创建服务实现类","categories":[{"name":"文章分类","slug":"文章分类","permalink":"http://zzy521.com/categories/%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB/"}],"tags":[{"name":"文章标签","slug":"文章标签","permalink":"http://zzy521.com/tags/%E6%96%87%E7%AB%A0%E6%A0%87%E7%AD%BE/"}]},{"title":"Markdown生成带侧边目录的HTML","slug":"Markdown生成带侧边目录的HTML","date":"2021-01-03T02:24:25.000Z","updated":"2021-01-03T02:25:44.315Z","comments":true,"path":"posts/7067bb35.html","link":"","permalink":"http://zzy521.com/posts/7067bb35.html","excerpt":"","text":"在使用Markdown文件生成说明文档的时候一般需要家侧边目录，但是Markdown本身的目录只能在上方显示，这里我选择使用一个插件来生成侧边目录。 安装插件使用了node.js，没有安装的话自己安装，安装插件下载过慢的话换淘宝源或者清华源 点击win+r，输入cmd点击回车打开。 输入 1npm install -g i5ting_toc 出现添加包成功代表安装成功 生成文件打开需要生成的md文件所在目录 在地址栏输入cmd点击回车。（这样操作省去了使用cd将目录移动到文件所在的文件夹的步骤） 输入 1i5ting_toc -f Tomcat的目录结构.md -o Tomcat的目录结构.md是我的文件名，需要根据自己的文件名去修改。 下面输出的三行分别为文件所在文件夹、目标文件和生成的文件。 推荐将Markdown中使用的图片都放在一个单独的文件夹，并将文件夹和Markdown放在一个文件夹中，将图片路径设置为相对路径，这样如果生成的HTML文件图片不显示只要将图片文件夹复制一份放到preview文件夹中就正常显示了。 可以看到生成的文件已经加了锚点，支持打开相应的链接直接跳转到相应的位置。","categories":[{"name":"开发工具","slug":"开发工具","permalink":"http://zzy521.com/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"http://zzy521.com/tags/markdown/"},{"name":"项目说明","slug":"项目说明","permalink":"http://zzy521.com/tags/%E9%A1%B9%E7%9B%AE%E8%AF%B4%E6%98%8E/"}]},{"title":"Tomcat服务器介绍","slug":"Tomcat服务器介绍","date":"2021-01-02T09:01:32.000Z","updated":"2021-01-02T09:10:00.694Z","comments":true,"path":"posts/c86b9588.html","link":"","permalink":"http://zzy521.com/posts/c86b9588.html","excerpt":"","text":"Tomcat的目录结构解压下载好的tomcat可以看到如下文件结构： bin：存放启动和关闭tomcat的命令的路径。 conf：存放tomcat的配置，所有的tomcat的配置都在该路径下设置。 lib：存放Tomcat服务器的核心类库（JAR文件），如果需要扩展tomcat的功能，也可将第三方类库复制到该路径下。 logs：这是一个空路径，用来保存Tomcat每次运行后产生的日志。 temp：保存Web应用运行过程中生成的临时文件。 webapps：该路径用于自动部署Web应用，将Web应用复制到该路径下，Tomcat启动时会自动将该应用部署到容器中。 work：保存在Web应用在运行过程中编译生成的.class文件。该文件夹可以删除，但每次启动Tomcat时系统都会再次建立该路径。 LICENSE等相关文档 运行Tomcat只需要系统有一个JAVA_HOME环境变量。不管是Windows还是linux，只要有这个环境变量并且指向JDK的安装路径即可。 启动Tomcat对于Windows平台，只要双击Tomcat安装路径下bin目录中的startup.bat文件即可。 启动Tomcat后，打开浏览器并在地址栏输入http://localhost:8080/，浏览器出现此界面即表示安装成功。 配置Tomcat的端口Tomcat的默认端口是8080，可以通过修改Tomcat的配置文件来改变服务端口，甚至可以让Tomcat同时在多个端口提供服务。 Tomcat的配置文件在conf目录下，控制端口的配置文件为conf下的server.xml文件。切记修改时只能用记事本或者vi等无格式的编辑器，不可以使用写字板。 在service.xml的70行左右的位置，可以看到以下代码 123&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt; 其中port=&quot;8080&quot;就是Tomcat提供服务的端口，将Tomcat修改为任意的端口，为避免与公用端口产生冲突，端口号最好大于1024。在这里我修改为8090. 修改完之后重启Tomcat，在浏览器地址栏输入http://localhost:8090/,即可再次看到Tomcat的界面。 Tomcat的控制台在上图右上角有三个控制台：一个是Server Status控制台，一个是Manager APP控制台，一个是Host Mnager控制台。 Status用来监控服务器的状态，Manager控制台用来部署和监控Web应用，通常只需使用Manager控制台。 控制台的用户名和密码是通过Tomcat的JAAS（JAAS的全称是Java Authentication Authorization Service（Java验证和授权API），它用来控制对Java web应用的授权访问）控制的。初始是没有用户的，所以无论输入什么都无法登陆。 webapps路径是Web应用的存放路径，而Manager控制台对应的也是一个Web应用，所以它的配置文件是webapps/manager/WEB-INF路径下的web.xml文件。 用户的配置也在其中，但是Tomcat采用文件安全域，添加控制台用户只需要修改conf路径下的tomcat-users.xml文件即可。 打开该文件在 1&lt;tomcat-users&gt; 下方添加下列内容 12&lt;role rolename=&quot;manager-gui&quot;/&gt;&lt;user username=&quot;manager&quot; password=&quot;manager&quot; roles=&quot;manager-gui&quot;/&gt; 此处登录用户名和密码我都是用的manager，可以根据需要自行修改。 修改过后重启Tomcat点击控制台登录即可。 显示下图即表示登陆成功 Tomcat服务器状态","categories":[{"name":"服务器","slug":"服务器","permalink":"http://zzy521.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"}],"tags":[{"name":"Tomcat","slug":"Tomcat","permalink":"http://zzy521.com/tags/Tomcat/"}]},{"title":"Linux查看应用的端口号和进程号PID","slug":"Linux查看应用的端口号和进程号PID","date":"2020-12-22T09:57:25.000Z","updated":"2020-12-23T01:25:15.839Z","comments":true,"path":"posts/73a46000.html","link":"","permalink":"http://zzy521.com/posts/73a46000.html","excerpt":"","text":"1.进程名和进程号PID的互查1.1根据进程名查进程号PID(PID是进程标识符)1ps -ef | grep 进程名 比如：查看tomcat进程的PID编号 1ps -ef | grep tomcat 如图，第一个就是查到的PID编号 还可以使用ps -aux | grep xxx，效果与ps -ef | grep xxx一样，只不过信息会更详细。1ps -aux | grep 进程名 PID编号可以用来强制结束某进程。 1kill -9 PID编号 比如：强制结束tomcat进程 12#5087为上边查到的tomcat的PIDkill -9 5087 1.2根据进程号查进程名将上边的进程名换成进程号即可。（这个用的比较少，一般都是根据进程名去查进程号） 1ps -ef | grep 进程号 1ps -aux | grep 进程号 2.端口号和进程号PID的互查根据进程PID查端口号1lsof -i | grep 进程号 或使用 1netstat -nap | grep 进程号 根据端口号查进程号PID1lsof -i:端口号 或 1netstat -nap | grep 端口号","categories":[{"name":"服务器","slug":"服务器","permalink":"http://zzy521.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zzy521.com/tags/Linux/"}]},{"title":"Hexo新建博客显示分类及标签","slug":"Hexo新建博客显示分类及标签","date":"2020-12-20T12:40:11.000Z","updated":"2020-12-20T12:57:08.004Z","comments":true,"path":"posts/4d9beafe.html","link":"","permalink":"http://zzy521.com/posts/4d9beafe.html","excerpt":"","text":"分类进入hexo博客所在的根目录，输入如下命令： 1hexo new page categories 成功后提示： 1INFO Created: D:\\Hexo\\source\\categories\\index.md index.md的内容如下： 1234---title: categoriesdate: 2020-12-20 20:26:06--- 需要修改为 1234567---title: 分类date: 2020-12-20 20:26:06type: &quot;categories&quot;layout: categoriescomments: false--- 标签在控制台中输入如下命令： 1hexo new page tags 成功后提示： 1INFO Created: D:\\Hexo\\source\\tags\\index.md index.md的内容如下： 1234---title: tagsdate: 2020-12-20 20:51:11--- 修改为 1234567---title: 标签date: 2020-12-20 20:51:11type: &quot;tags&quot;layout: tagscomments: false--- 修改模板修改scaffolds中的post模板 123456789---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;categories: - 文章分类tags: - 文章标签toc: true---","categories":[{"name":"开发工具","slug":"开发工具","permalink":"http://zzy521.com/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://zzy521.com/tags/Hexo/"}]},{"title":"在服务器上安装运行EOS的Tomcat的方法","slug":"在服务器上安装运行EOS的Tomcat的方法","date":"2020-12-20T09:01:25.000Z","updated":"2020-12-23T00:50:06.565Z","comments":true,"path":"posts/eba5960e.html","link":"","permalink":"http://zzy521.com/posts/eba5960e.html","excerpt":"","text":"1.防火墙开启端口号12345678910111213# 查看firewall的状态firewall-cmd --state# 开启（如果防火墙未开启的话先开启）service firewalld start# 查询端口是否开放firewall-cmd --query-port=8080/tcpfirewall-cmd --query-port=8009/tcp# 开放8080端口firewall-cmd --permanent --add-port=8080/tcp# 开放8009端口firewall-cmd --permanent --add-port=8009/tcp#重启防火墙(修改配置后要重启防火墙)firewall-cmd --reload 2.将压缩包复制到服务器并打开在/usr/local文件夹下新建名为tomcat的文件夹，将名为apache-tomcat-7.0.54.tar的压缩包进去 进入tomcat文件夹下 1cd /usr/local/tomcat 解压 1tar -xvf apache-tomcat-7.0.54.tar 3.调大Tomcat的jvm内存在生产环境中，tomcat内存设置不好很容易出现JVM内存溢出，解决方法就是修改Tomcat中的catalina.sh文件 1234567#进入bin目录下cd /usr/local/tomcat/apache-tomcat-7.0.54/bin#打开catalina.sh文件vi catalina.sh#按i进入编辑模式，找到cygwin=false，在这一行的前面加入参数，具体如下，按Esc退出编辑模式，再输入:wq！点击回车保存JAVA_OPTS=&quot;-server -Xms800m -Xmx800m -XX:PermSize=256m -XX:MaxPermSize=512m -XX:MaxNewSize=512m&quot; 其他说明： “m”说明单位是MB，否则默认是KB 一般使用物理内存的80%作为堆大小 一般把-Xms和-Xmx设为一样大 一般把-Xmn设置为-Xmx值的1/4 一般将堆的总大小的50%到60%分配给新生成的池 jvm参数说明： -server 一定要作为第一个参数，启用JDK的server版本，在多个CPU时性能佳-Xms java Heap初始大小。 默认是物理内存的1/64。-Xmx java heap最大值。建议均设为物理内存的80%。不可超过物理内存。-Xmn java heap最小值，一般设置为Xmx的3、4分之一。-XX:PermSize 设定内存的永久保存区初始大小，缺省值为64M。-XX:MaxPermSize 设定内存的永久保存区最大大小，缺省值为64M。-XX:SurvivorRatio=2 生还者池的大小，默认是2。如-XX:NewSize 新生成的池的初始大小。 缺省值为2M。-XX:MaxNewSize 新生成的池的最大大小。 缺省值为32M。+XX:AggressiveHeap 让jvm忽略Xmx参数，疯狂地吃完一个G物理内存，再吃尽一个G的swap。-Xss 每个线程的Stack大小-verbose:gc 现实垃圾收集信息-Xloggc:gc.log 指定垃圾收集日志文件-XX:+UseParNewGC 缩短minor收集的时间-XX:+UseConcMarkSweepGC 缩短major收集的时间-XX:userParNewGC 可用来设置并行收集(多CPU)-XX:ParallelGCThreads 可用来增加并行度(多CPU)-XX:UseParallelGC 设置后可以使用并行清除收集器(多CPU) 4.改变端口号如果不用默认的8080端口则需要修改端口号，在conf文件夹下的server.xml文件中修改。换端口号的话需要在防火墙开启相应的端口号，参考第一步。（如果使用默认的8080端口则跳过此步骤） 12345678#进入conf目录下cd /usr/local/tomcat/apache-tomcat-7.0.54/conf#打开server.xml文件vi server.xml#按i进入编辑模式，找到 &lt;Connector URIEncoding=&quot;UTF-8&quot; connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;/&gt;，#将其中的8080换为需要的端口号，例如8090，按Esc退出编辑模式，再输入:wq！点击回车保存&lt;Connector URIEncoding=&quot;UTF-8&quot; connectionTimeout=&quot;20000&quot; port=&quot;8090&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;/&gt; 5.启动运行1234#进入bin目录下cd /usr/local/tomcat/apache-tomcat-7.0.54/bin#启动运行./startup.sh 部署完项目需要重启tomcat 123456#进入bin目录下cd /usr/local/tomcat/apache-tomcat-7.0.54/bin#停止运行./shutdown.sh#启动运行./startup.sh","categories":[{"name":"服务器","slug":"服务器","permalink":"http://zzy521.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://zzy521.com/tags/Linux/"},{"name":"Tomcat","slug":"Tomcat","permalink":"http://zzy521.com/tags/Tomcat/"}]}],"categories":[{"name":"开发工具","slug":"开发工具","permalink":"http://zzy521.com/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"},{"name":"文章分类","slug":"文章分类","permalink":"http://zzy521.com/categories/%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB/"},{"name":"服务器","slug":"服务器","permalink":"http://zzy521.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"}],"tags":[{"name":"exe","slug":"exe","permalink":"http://zzy521.com/tags/exe/"},{"name":"Java","slug":"Java","permalink":"http://zzy521.com/tags/Java/"},{"name":"文章标签","slug":"文章标签","permalink":"http://zzy521.com/tags/%E6%96%87%E7%AB%A0%E6%A0%87%E7%AD%BE/"},{"name":"markdown","slug":"markdown","permalink":"http://zzy521.com/tags/markdown/"},{"name":"项目说明","slug":"项目说明","permalink":"http://zzy521.com/tags/%E9%A1%B9%E7%9B%AE%E8%AF%B4%E6%98%8E/"},{"name":"Tomcat","slug":"Tomcat","permalink":"http://zzy521.com/tags/Tomcat/"},{"name":"Linux","slug":"Linux","permalink":"http://zzy521.com/tags/Linux/"},{"name":"Hexo","slug":"Hexo","permalink":"http://zzy521.com/tags/Hexo/"}]}